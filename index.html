import pygame
import os
import random
import time

# Map met nummers
MUSIC_DIR = "playlist"

# Haal alle mp3-bestanden op
songs = [os.path.join(MUSIC_DIR, f) for f in os.listdir(MUSIC_DIR) if f.endswith(".mp3")]

# Initialiseer pygame mixer
pygame.mixer.init()

def play_song(song_path):
    print(f"ðŸŽµ Nu speelt: {os.path.basename(song_path)}")
    pygame.mixer.music.load(song_path)
    pygame.mixer.music.play()
    
    # Wacht tot het nummer klaar is
    while pygame.mixer.music.get_busy():
        time.sleep(1)

def main():
    print("ðŸŽ§ Sky Radio Clone gestart...")
    while True:
        song = random.choice(songs)
        play_song(song)

if __name__ == "__main__":
    main()

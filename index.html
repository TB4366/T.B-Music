<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini IO Game</title>
<style>
  body { margin: 0; overflow: hidden; background: #222; }
  canvas { display: block; margin: 0 auto; background: #333; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const player = { x: 400, y: 300, radius: 20, color: 'blue', speed: 3 };
const foods = [];
const foodCount = 50;

// Maak voedsel
for(let i = 0; i < foodCount; i++){
    foods.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: 5 + Math.random() * 5,
        color: 'green'
    });
}

// Muis positie
const mouse = { x: player.x, y: player.y };

canvas.addEventListener('mousemove', e => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
});

// Functie om afstand te berekenen
function distance(a, b) {
    return Math.hypot(a.x - b.x, a.y - b.y);
}

// Update spelerpositie
function updatePlayer() {
    const dx = mouse.x - player.x;
    const dy = mouse.y - player.y;
    const dist = Math.hypot(dx, dy);

    if(dist > player.speed){
        player.x += (dx / dist) * player.speed;
        player.y += (dy / dist) * player.speed;
    } else {
        player.x = mouse.x;
        player.y = mouse.y;
    }
}

// Check voedsel collisions
function checkFood() {
    for(let i = foods.length - 1; i >= 0; i--){
        if(distance(player, foods[i]) < player.radius + foods[i].radius){
            player.radius += 0.5; // Groei speler
            foods.splice(i, 1); // Verwijder voedsel
        }
    }
}

// Teken alles
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Teken speler
    ctx.beginPath();
    ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
    ctx.fillStyle = player.color;
    ctx.fill();

    // Teken voedsel
    foods.forEach(f => {
        ctx.beginPath();
        ctx.arc(f.x, f.y, f.radius, 0, Math.PI * 2);
        ctx.fillStyle = f.color;
        ctx.fill();
    });
}

// Game loop
function gameLoop() {
    updatePlayer();
    checkFood();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>

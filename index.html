<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Bot System</title>
<style>
body {
    background: #0f0f0f;
    color: #eee;
    font-family: Arial;
    padding: 20px;
}
input, button {
    margin: 5px 0;
    padding: 6px;
    width: 100%;
}
button {
    cursor: pointer;
}
#log {
    margin-top: 15px;
    background: #1c1c1c;
    padding: 10px;
    height: 220px;
    overflow-y: auto;
    border: 1px solid #333;
}
.disabled {
    opacity: 0.4;
    pointer-events: none;
}
</style>
</head>
<body>

<h2>Bot Instellingen (verplicht)</h2>

<label>Bot Names (comma separated)</label>
<input id="botnames" placeholder="Bot_Alpha,Bot_Bravo">

<label>Bot Speed (ms)</label>
<input id="botSpeed" type="number" placeholder="1000">

<label>Bot Key</label>
<input id="botkey" placeholder="B">

<label>
    <input type="checkbox" id="botting"> Botting enabled
</label>

<label>
    <input type="checkbox" id="bot_mode"> Bot Mode
</label>

<button id="startBtn" onclick="startBots()" class="disabled">Start Bots</button>
<button onclick="stopBots()">Stop Bots</button>

<div id="log"></div>

<script>
/* ===============================
   CORE FLAGS (uit jouw lijst)
================================ */

let botsRunning = false;
let botsStartSuccess = false;

/* ===============================
   VALIDATIE
================================ */

function canStartBots() {
    const names = document.getElementById("botnames").value.trim();
    const speed = document.getElementById("botSpeed").value;
    const key = document.getElementById("botkey").value.trim();
    const botting = document.getElementById("botting").checked;
    const mode = document.getElementById("bot_mode").checked;

    return (
        names !== "" &&
        speed > 0 &&
        key !== "" &&
        botting === true &&
        mode === true &&
        !botsRunning
    );
}

/* ===============================
   ENABLE BUTTON LOGIC
================================ */

document.querySelectorAll("input").forEach(el => {
    el.addEventListener("input", updateStartButton);
    el.addEventListener("change", updateStartButton);
});

function updateStartButton() {
    const btn = document.getElementById("startBtn");
    if (canStartBots()) {
        btn.classList.remove("disabled");
    } else {
        btn.classList.add("disabled");
    }
}

/* ===============================
   BOT MODE HANDLER
================================ */

function handleBotModeChange() {
    updateStartButton();
}

/* ===============================
   START BOTS
================================ */

function startBots() {
    if (!canStartBots()) {
        log("Kan bots niet starten: instellingen incompleet");
        return;
    }

    botsRunning = true;
    botsStartSuccess = true;

    log("Start Bots");
    log("Botting actief");

    const botnames = document.getElementById("botnames")
        .value.split(",");

    const botSpeed = document.getElementById("botSpeed").value;
    const botkey = document.getElementById("botkey").value;

    log("Bots: " + botnames.join(", "));
    log("Speed: " + botSpeed + "ms");
    log("Key: " + botkey);

    botLoop(botnames, botSpeed);
}

/* ===============================
   STOP BOTS
================================ */

function stopBots() {
    if (!botsRunning) return;

    botsRunning = false;
    botsStartSuccess = false;

    log("Bots stopped");
}

/* ===============================
   BOT LOOP / BOTTING
================================ */

function botLoop(botnames, speed) {
    if (!botsRunning) return;

    botnames.forEach(name => {
        log("Botting: " + name.trim());
    });

    setTimeout(() => botLoop(botnames, speed), speed);
}

/* ===============================
   LOG
================================ */

function log(msg) {
    const div = document.getElementById("log");
    div.innerHTML += `[${new Date().toLocaleTimeString()}] ${msg}<br>`;
    div.scrollTop = div.scrollHeight;
}
</script>

</body>
</html>
